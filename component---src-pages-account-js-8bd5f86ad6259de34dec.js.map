{"version":3,"sources":["webpack:///./src/components/PasswordChange/index.js","webpack:///./src/pages/account.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/firebase/firebase.js","webpack:///./src/firebase/auth.js","webpack:///./src/firebase/db.js","webpack:///./src/firebase/index.js","webpack:///./src/components/Session/AuthUserContext.js","webpack:///./src/constants/routes.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/SignOut/index.js","webpack:///./src/components/Navigation/index.js","webpack:///./src/components/layout.js","webpack:///./src/components/Session/withAuthentication.js","webpack:///./src/components/PasswordForget/index.js","webpack:///./src/components/Session/withAuthorization.js"],"names":["updateByPropertyName","propertyName","value","_ref","INITIAL_STATE","passwordOne","passwordTwo","error","PasswordChange","PasswordChangeForm","props","_this","_Component","call","this","onSubmit","event","state","firebase","a","doPasswordUpdate","then","setState","Object","assign","catch","preventDefault","render","_this2","_this$state","isInvalid","react_default","createElement","onChange","target","type","placeholder","disabled","message","react","Component","m","n","p","AccountPageContent","withAuthorization","authUser","AuthUserContext","Consumer","email","PasswordForget","__webpack_exports__","default","layout","155","e","t","__webpack_require__","r","d","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","withPrefix","navigate","push","replace","navigateTo","_wait_for_route_change__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_4__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_4___default","_parse_path__WEBPACK_IMPORTED_MODULE_5__","createContext","staticQueryData","data","query","children","Error","propTypes","object","string","isRequired","func","db","auth","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","index_cjs_default","apps","length","initializeApp","window","database","auth_doCreateUserWithEmailAndPassword","password","createUserWithEmailAndPassword","auth_doSignInWithEmailAndPassword","signInWithEmailAndPassword","auth_doSignOut","signOut","auth_doPasswordReset","sendPasswordResetEmail","auth_doPasswordUpdate","currentUser","updatePassword","db_doCreateUser","id","username","ref","set","db_onceGetUsers","once","auth_namespaceObject","db_namespaceObject","firebase_namespaceObject","158","LANDING","SIGN_UP","SIGN_IN","PASSWORD_FORGET","HOME","ACCOUNT","159","module","exports","_page_renderer__WEBPACK_IMPORTED_MODULE_2__","_loader__WEBPACK_IMPORTED_MODULE_3__","ProdPageRenderer","location","pageResources","getResourcesForPathname","pathname","shape","s","162","u","i","o","c","l","SignOut","onClick","doSignOut","f","Navigation_NavigationAuth","gatsby_browser_entry","Link","to","routes","b","Navigation_NavigationNonAuth","components_Navigation","E","g","_React$Component","WithAuthentication","inheritsLoose_default","_proto","prototype","componentDidMount","onAuthStateChanged","Provider","Session_withAuthentication","Helmet_default","titleTemplate","site","siteMetadata","title","defaultTitle","className","_3470870683","PasswordForgetForm","_firebase__WEBPACK_IMPORTED_MODULE_4__","doPasswordReset","react__WEBPACK_IMPORTED_MODULE_2___default","react__WEBPACK_IMPORTED_MODULE_2__","PasswordForgetLink","gatsby__WEBPACK_IMPORTED_MODULE_3__","_constants_routes__WEBPACK_IMPORTED_MODULE_5__","170","condition","WithAuthorization","apply","arguments","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_0___default","gatsby__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_1___default","_Session_AuthUserContext__WEBPACK_IMPORTED_MODULE_3__"],"mappings":"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","file":"component---src-pages-account-js-8bd5f86ad6259de34dec.js","sourcesContent":["import React, { Component } from 'react';\n\nimport { auth } from '../../firebase';\n\nconst updateByPropertyName = (propertyName, value) => () => ({\n  [propertyName]: value,\n});\n\nconst INITIAL_STATE = {\n  passwordOne: '',\n  passwordTwo: '',\n  error: null,\n};\n\nclass PasswordChangeForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { passwordOne } = this.state;\n\n    auth\n      .doPasswordUpdate(passwordOne)\n      .then(() => {\n        this.setState(() => ({ ...INITIAL_STATE }));\n      })\n      .catch(error => {\n        this.setState(updateByPropertyName('error', error));\n      });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const { passwordOne, passwordTwo, error } = this.state;\n\n    const isInvalid = passwordOne !== passwordTwo || passwordOne === '';\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          value={passwordOne}\n          onChange={event =>\n            this.setState(\n              updateByPropertyName('passwordOne', event.target.value)\n            )\n          }\n          type=\"password\"\n          placeholder=\"New Password\"\n        />\n        <input\n          value={passwordTwo}\n          onChange={event =>\n            this.setState(\n              updateByPropertyName('passwordTwo', event.target.value)\n            )\n          }\n          type=\"password\"\n          placeholder=\"Confirm New Password\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Reset My Password\n        </button>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nexport default PasswordChangeForm;\n","import React from 'react';\n\nimport AuthUserContext from '../components/Session/AuthUserContext';\nimport { PasswordForgetForm } from '../components/PasswordForget';\nimport PasswordChangeForm from '../components/PasswordChange';\nimport withAuthorization from '../components/Session/withAuthorization';\nimport Layout from '../components/layout';\n\nconst AccountPage = () => (\n  <Layout>\n    <AccountPageContent />\n  </Layout>\n);\n\nconst authCondition = authUser => !!authUser;\n\nconst AccountPageContent = withAuthorization(authCondition)(() => (\n  <AuthUserContext.Consumer>\n    {authUser => (\n      <div>\n        <h1>Account: {authUser.email}</h1>\n        <PasswordForgetForm />\n        <PasswordChangeForm />\n      </div>\n    )}\n  </AuthUserContext.Consumer>\n));\n\nexport default AccountPage;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport { addListener as waitForRouteChange } from \"./wait-for-route-change\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  waitForRouteChange,\n}\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\n\nconst prodConfig = {\n  apiKey: \"AIzaSyC8AhZsZOL-y9j0TRPgCetyHL84ZPIkM3o\",\n  authDomain: \"blog-baddb.firebaseapp.com\",\n  databaseURL: \"https://blog-baddb.firebaseio.com\",\n  projectId: \"blog-baddb\",\n  storageBucket: \"blog-baddb.appspot.com\",\n  messagingSenderId: \"704457494574\"\n};\n\nconst devConfig = {\n  apiKey: \"AIzaSyC8AhZsZOL-y9j0TRPgCetyHL84ZPIkM3o\",\n  authDomain: \"blog-baddb.firebaseapp.com\",\n  databaseURL: \"https://blog-baddb.firebaseio.com\",\n  projectId: \"blog-baddb\",\n  storageBucket: \"blog-baddb.appspot.com\",\n  messagingSenderId: \"704457494574\"\n};\n\nconst config = process.env.NODE_ENV === 'production' ? prodConfig : devConfig;\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n}\n\nlet db, auth;\n\nif (typeof window !== 'undefined') {\n  // Gatsby build will fail otherwise\n  db = firebase.database();\n  auth = firebase.auth();\n}\n\nexport { db, auth };\n","import { auth } from './firebase';\n\n// Sign Up\nexport const doCreateUserWithEmailAndPassword = (email, password) =>\n  auth.createUserWithEmailAndPassword(email, password);\n\n// Sign In\nexport const doSignInWithEmailAndPassword = (email, password) =>\n  auth.signInWithEmailAndPassword(email, password);\n\n// Sign out\nexport const doSignOut = () => auth.signOut();\n\n// Password Reset\nexport const doPasswordReset = email => auth.sendPasswordResetEmail(email);\n\n// Password Change\nexport const doPasswordUpdate = password =>\n  auth.currentUser.updatePassword(password);\n","import { db } from './firebase';\n\n// User API\n\nexport const doCreateUser = (id, username, email) =>\n  db.ref(`users/${id}`).set({\n    username,\n    email,\n  });\n\nexport const onceGetUsers = () => db.ref('users').once('value');\n\n// Other db APIs ...\n","import * as auth from './auth';\nimport * as db from './db';\nimport * as firebase from './firebase';\n\nexport { auth, db, firebase };\n","import React from 'react';\n\nconst AuthUserContext = React.createContext(null);\n\nexport default AuthUserContext;\n","export const LANDING = '/';\nexport const SIGN_UP = '/signup';\nexport const SIGN_IN = '/signin';\nexport const PASSWORD_FORGET = '/pw-forget';\nexport const HOME = '/home';\nexport const ACCOUNT = '/account';\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from 'react';\n\nimport { auth } from '../../firebase';\n\nconst SignOutButton = () => (\n  <button type=\"button\" onClick={auth.doSignOut}>\n    Sign Out\n  </button>\n);\n\nexport default SignOutButton;\n","import React from 'react';\nimport { Link } from 'gatsby';\n\nimport AuthUserContext from '../Session/AuthUserContext';\nimport SignOutButton from '../SignOut';\nimport * as routes from '../../constants/routes';\n\nconst Navigation = () => (\n  <AuthUserContext.Consumer>\n    {authUser => (authUser ? <NavigationAuth /> : <NavigationNonAuth />)}\n  </AuthUserContext.Consumer>\n);\n\nconst NavigationAuth = () => (\n  <ul>\n    <li>\n      <Link to={routes.LANDING}>Landing</Link>\n    </li>\n    <li>\n      <Link to={routes.HOME}>Home</Link>\n    </li>\n    <li>\n      <Link to={routes.ACCOUNT}>Account</Link>\n    </li>\n    <li>\n      <SignOutButton />\n    </li>\n  </ul>\n);\n\nconst NavigationNonAuth = () => (\n  <ul>\n    <li>\n      <Link to={routes.LANDING}>Landing</Link>\n    </li>\n    <li>\n      <Link to={routes.SIGN_IN}>Sign In</Link>\n    </li>\n  </ul>\n);\n\nexport default Navigation;\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport { StaticQuery, graphql } from 'gatsby';\n\nimport Navigation from './Navigation';\nimport withAuthentication from './Session/withAuthentication';\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query LayoutQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => (\n      <div>\n        <Helmet\n          titleTemplate={`%s | ${data.site.siteMetadata.title}`}\n          defaultTitle={data.site.siteMetadata.title}\n        />\n        <div className=\"app\">\n          <Navigation />\n          <hr />\n          {children}\n        </div>\n      </div>\n    )}\n  />\n);\n\nexport default withAuthentication(Layout);\n","import React from 'react';\n\nimport AuthUserContext from './AuthUserContext';\nimport { firebase } from '../../firebase';\n\nconst withAuthentication = Component =>\n  class WithAuthentication extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        authUser: null,\n      };\n    }\n\n    componentDidMount() {\n      if (typeof window !== 'undefined') {\n        firebase.auth.onAuthStateChanged(authUser => {\n          authUser\n            ? this.setState(() => ({ authUser }))\n            : this.setState(() => ({ authUser: null }));\n        });\n      }\n    }\n\n    render() {\n      const { authUser } = this.state;\n\n      return (\n        <AuthUserContext.Provider value={authUser}>\n          <Component {...this.props} />\n        </AuthUserContext.Provider>\n      );\n    }\n  };\n\nexport default withAuthentication;\n","import React, { Component } from 'react';\nimport { Link } from 'gatsby';\n\nimport { auth } from '../../firebase';\nimport * as routes from '../../constants/routes';\n\nconst updateByPropertyName = (propertyName, value) => () => ({\n  [propertyName]: value,\n});\n\nconst INITIAL_STATE = {\n  email: '',\n  error: null,\n};\n\nclass PasswordForgetForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { email } = this.state;\n\n    auth\n      .doPasswordReset(email)\n      .then(() => {\n        this.setState(() => ({ ...INITIAL_STATE }));\n      })\n      .catch(error => {\n        this.setState(updateByPropertyName('error', error));\n      });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const { email, error } = this.state;\n\n    const isInvalid = email === '';\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          value={this.state.email}\n          onChange={event =>\n            this.setState(updateByPropertyName('email', event.target.value))\n          }\n          type=\"text\"\n          placeholder=\"Email Address\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Reset My Password\n        </button>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nconst PasswordForgetLink = () => (\n  <p>\n    <Link to={routes.PASSWORD_FORGET}>Forgot Password?</Link>\n  </p>\n);\n\nexport { PasswordForgetForm, PasswordForgetLink };\n","import React from 'react';\nimport { navigate } from \"gatsby\";\n\nimport AuthUserContext from '../Session/AuthUserContext';\nimport { firebase } from '../../firebase';\nimport * as routes from '../../constants/routes';\n\nconst withAuthorization = condition => Component => {\n  class WithAuthorization extends React.Component {\n    componentDidMount() {\n      if (typeof window !== 'undefined') {\n        firebase.auth.onAuthStateChanged(authUser => {\n          if (!condition(authUser)) {\n            navigate(routes.SIGN_IN);\n          }\n        });\n      }\n    }\n\n    render() {\n      return (\n        <AuthUserContext.Consumer>\n          {authUser => (authUser ? <Component {...this.props} /> : null)}\n        </AuthUserContext.Consumer>\n      );\n    }\n  }\n\n  return WithAuthorization;\n};\n\nexport default withAuthorization;\n"],"sourceRoot":""}