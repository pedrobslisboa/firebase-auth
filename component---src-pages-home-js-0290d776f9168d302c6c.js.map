{"version":3,"sources":["webpack:///./src/pages/home.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/firebase/firebase.js","webpack:///./src/firebase/auth.js","webpack:///./src/firebase/db.js","webpack:///./src/firebase/index.js","webpack:///./src/components/Session/AuthUserContext.js","webpack:///./src/constants/routes.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/SignOut/index.js","webpack:///./src/components/Navigation/index.js","webpack:///./src/components/layout.js","webpack:///./src/components/Session/withAuthentication.js","webpack:///./src/components/Session/withAuthorization.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_object-sap.js"],"names":["HomePage","props","_this","_Component","call","this","state","users","componentDidMount","_this2","_firebase__WEBPACK_IMPORTED_MODULE_8__","b","onceGetUsers","then","snapshot","setState","object","val","Object","keys","map","key","assign","index","render","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_9__","HomePageContent","react__WEBPACK_IMPORTED_MODULE_6__","Component","UserList","_ref","user","_components_Session_withAuthorization__WEBPACK_IMPORTED_MODULE_7__","authUser","length","__webpack_exports__","default","l","155","e","n","t","__webpack_require__","r","d","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","withPrefix","navigate","push","replace","navigateTo","_wait_for_route_change__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_4__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_4___default","_parse_path__WEBPACK_IMPORTED_MODULE_5__","createContext","Consumer","staticQueryData","data","query","children","Error","propTypes","string","isRequired","func","db","auth","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","index_cjs_default","apps","initializeApp","window","database","auth_doCreateUserWithEmailAndPassword","email","password","createUserWithEmailAndPassword","auth_doSignInWithEmailAndPassword","signInWithEmailAndPassword","auth_doSignOut","signOut","auth_doPasswordReset","sendPasswordResetEmail","auth_doPasswordUpdate","currentUser","updatePassword","db_doCreateUser","id","username","ref","set","db_onceGetUsers","once","auth_namespaceObject","db_namespaceObject","firebase_namespaceObject","AuthUserContext","158","LANDING","SIGN_UP","SIGN_IN","PASSWORD_FORGET","HOME","ACCOUNT","159","m","module","exports","_page_renderer__WEBPACK_IMPORTED_MODULE_2__","_loader__WEBPACK_IMPORTED_MODULE_3__","ProdPageRenderer","location","pageResources","getResourcesForPathname","pathname","shape","s","162","u","i","o","c","SignOut","react_default","type","onClick","firebase","doSignOut","f","Navigation_NavigationAuth","gatsby_browser_entry","Link","to","routes","Navigation_NavigationNonAuth","components_Navigation","v","_React$Component","WithAuthentication","inheritsLoose_default","_proto","prototype","onAuthStateChanged","Provider","value","Session_withAuthentication","Helmet_default","titleTemplate","site","siteMetadata","title","defaultTitle","className","_3470870683","condition","WithAuthorization","apply","arguments","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_0___default","_firebase__WEBPACK_IMPORTED_MODULE_4__","gatsby__WEBPACK_IMPORTED_MODULE_2__","_constants_routes__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_1___default","_Session_AuthUserContext__WEBPACK_IMPORTED_MODULE_3__","toObject","$keys","it","$export","core","fails","KEY","exec","fn","exp","S","F"],"mappings":"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","file":"component---src-pages-home-js-0290d776f9168d302c6c.js","sourcesContent":["import React, { Component } from 'react';\n\nimport withAuthorization from '../components/Session/withAuthorization';\nimport { db } from '../firebase';\nimport Layout from '../components/layout';\n\nconst fromObjectToList = object =>\n  object\n    ? Object.keys(object).map(key => ({ ...object[key], index: key }))\n    : [];\n\nclass HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      users: [],\n    };\n  }\n\n  componentDidMount() {\n    db.onceGetUsers().then(snapshot =>\n      this.setState(() => ({ users: fromObjectToList(snapshot.val()) }))\n    );\n  }\n\n  render() {\n    const { users } = this.state;\n\n    return (\n      <Layout>\n        <HomePageContent users={users} />\n      </Layout>\n    );\n  }\n}\n\nconst UserList = ({ users }) => (\n  <div>\n    <h2>List of App User IDs (Saved on Sign Up in Firebase Database)</h2>\n    {users.map(user => <div key={user.index}>{user.index}</div>)}\n  </div>\n);\n\nconst authCondition = authUser => !!authUser;\n\nconst HomePageContent = withAuthorization(authCondition)(users => (\n  <div>\n    <h1>Home</h1>\n    <p>The Home Page is accessible by every signed in user.</p>\n\n    {!!users.length && <UserList users={users} />}\n  </div>\n));\n\nexport default HomePage;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport { addListener as waitForRouteChange } from \"./wait-for-route-change\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  waitForRouteChange,\n}\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\n\nconst prodConfig = {\n  apiKey: \"AIzaSyC8AhZsZOL-y9j0TRPgCetyHL84ZPIkM3o\",\n  authDomain: \"blog-baddb.firebaseapp.com\",\n  databaseURL: \"https://blog-baddb.firebaseio.com\",\n  projectId: \"blog-baddb\",\n  storageBucket: \"blog-baddb.appspot.com\",\n  messagingSenderId: \"704457494574\"\n};\n\nconst devConfig = {\n  apiKey: \"AIzaSyC8AhZsZOL-y9j0TRPgCetyHL84ZPIkM3o\",\n  authDomain: \"blog-baddb.firebaseapp.com\",\n  databaseURL: \"https://blog-baddb.firebaseio.com\",\n  projectId: \"blog-baddb\",\n  storageBucket: \"blog-baddb.appspot.com\",\n  messagingSenderId: \"704457494574\"\n};\n\nconst config = process.env.NODE_ENV === 'production' ? prodConfig : devConfig;\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n}\n\nlet db, auth;\n\nif (typeof window !== 'undefined') {\n  // Gatsby build will fail otherwise\n  db = firebase.database();\n  auth = firebase.auth();\n}\n\nexport { db, auth };\n","import { auth } from './firebase';\n\n// Sign Up\nexport const doCreateUserWithEmailAndPassword = (email, password) =>\n  auth.createUserWithEmailAndPassword(email, password);\n\n// Sign In\nexport const doSignInWithEmailAndPassword = (email, password) =>\n  auth.signInWithEmailAndPassword(email, password);\n\n// Sign out\nexport const doSignOut = () => auth.signOut();\n\n// Password Reset\nexport const doPasswordReset = email => auth.sendPasswordResetEmail(email);\n\n// Password Change\nexport const doPasswordUpdate = password =>\n  auth.currentUser.updatePassword(password);\n","import { db } from './firebase';\n\n// User API\n\nexport const doCreateUser = (id, username, email) =>\n  db.ref(`users/${id}`).set({\n    username,\n    email,\n  });\n\nexport const onceGetUsers = () => db.ref('users').once('value');\n\n// Other db APIs ...\n","import * as auth from './auth';\nimport * as db from './db';\nimport * as firebase from './firebase';\n\nexport { auth, db, firebase };\n","import React from 'react';\n\nconst AuthUserContext = React.createContext(null);\n\nexport default AuthUserContext;\n","export const LANDING = '/';\nexport const SIGN_UP = '/signup';\nexport const SIGN_IN = '/signin';\nexport const PASSWORD_FORGET = '/pw-forget';\nexport const HOME = '/home';\nexport const ACCOUNT = '/account';\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from 'react';\n\nimport { auth } from '../../firebase';\n\nconst SignOutButton = () => (\n  <button type=\"button\" onClick={auth.doSignOut}>\n    Sign Out\n  </button>\n);\n\nexport default SignOutButton;\n","import React from 'react';\nimport { Link } from 'gatsby';\n\nimport AuthUserContext from '../Session/AuthUserContext';\nimport SignOutButton from '../SignOut';\nimport * as routes from '../../constants/routes';\n\nconst Navigation = () => (\n  <AuthUserContext.Consumer>\n    {authUser => (authUser ? <NavigationAuth /> : <NavigationNonAuth />)}\n  </AuthUserContext.Consumer>\n);\n\nconst NavigationAuth = () => (\n  <ul>\n    <li>\n      <Link to={routes.LANDING}>Landing</Link>\n    </li>\n    <li>\n      <Link to={routes.HOME}>Home</Link>\n    </li>\n    <li>\n      <Link to={routes.ACCOUNT}>Account</Link>\n    </li>\n    <li>\n      <SignOutButton />\n    </li>\n  </ul>\n);\n\nconst NavigationNonAuth = () => (\n  <ul>\n    <li>\n      <Link to={routes.LANDING}>Landing</Link>\n    </li>\n    <li>\n      <Link to={routes.SIGN_IN}>Sign In</Link>\n    </li>\n  </ul>\n);\n\nexport default Navigation;\n","import React from 'react';\nimport Helmet from 'react-helmet';\nimport { StaticQuery, graphql } from 'gatsby';\n\nimport Navigation from './Navigation';\nimport withAuthentication from './Session/withAuthentication';\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query LayoutQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => (\n      <div>\n        <Helmet\n          titleTemplate={`%s | ${data.site.siteMetadata.title}`}\n          defaultTitle={data.site.siteMetadata.title}\n        />\n        <div className=\"app\">\n          <Navigation />\n          <hr />\n          {children}\n        </div>\n      </div>\n    )}\n  />\n);\n\nexport default withAuthentication(Layout);\n","import React from 'react';\n\nimport AuthUserContext from './AuthUserContext';\nimport { firebase } from '../../firebase';\n\nconst withAuthentication = Component =>\n  class WithAuthentication extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        authUser: null,\n      };\n    }\n\n    componentDidMount() {\n      if (typeof window !== 'undefined') {\n        firebase.auth.onAuthStateChanged(authUser => {\n          authUser\n            ? this.setState(() => ({ authUser }))\n            : this.setState(() => ({ authUser: null }));\n        });\n      }\n    }\n\n    render() {\n      const { authUser } = this.state;\n\n      return (\n        <AuthUserContext.Provider value={authUser}>\n          <Component {...this.props} />\n        </AuthUserContext.Provider>\n      );\n    }\n  };\n\nexport default withAuthentication;\n","import React from 'react';\nimport { navigate } from \"gatsby\";\n\nimport AuthUserContext from '../Session/AuthUserContext';\nimport { firebase } from '../../firebase';\nimport * as routes from '../../constants/routes';\n\nconst withAuthorization = condition => Component => {\n  class WithAuthorization extends React.Component {\n    componentDidMount() {\n      if (typeof window !== 'undefined') {\n        firebase.auth.onAuthStateChanged(authUser => {\n          if (!condition(authUser)) {\n            navigate(routes.SIGN_IN);\n          }\n        });\n      }\n    }\n\n    render() {\n      return (\n        <AuthUserContext.Consumer>\n          {authUser => (authUser ? <Component {...this.props} /> : null)}\n        </AuthUserContext.Consumer>\n      );\n    }\n  }\n\n  return WithAuthorization;\n};\n\nexport default withAuthorization;\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n"],"sourceRoot":""}